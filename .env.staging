# ==============================================
# STAGING ENVIRONMENT CONFIGURATION
# ==============================================
# This file contains environment variables for staging/testing environment
# Used for testing before production deployment

# Environment
NODE_ENV=staging
ENVIRONMENT=staging

# Application Settings
APP_NAME="Optimizely AI - Staging"
APP_VERSION=0.1.0
LOG_LEVEL=info
DEBUG=false

# Server Configuration
API_PORT=4000
WEB_PORT=3001
HOST=0.0.0.0
CORS_ORIGIN=https://staging.optimizely-ai.com

# Database Configuration (PostgreSQL)
DATABASE_URL=postgresql://staging_user:staging_password@staging-db:5432/optimizely_staging
DB_HOST=staging-db
DB_PORT=5432
DB_NAME=optimizely_staging
DB_USER=staging_user
DB_PASSWORD=staging_password
DB_SSL=true
DB_POOL_MIN=5
DB_POOL_MAX=20

# Redis Configuration
REDIS_URL=redis://staging-redis:6379
REDIS_HOST=staging-redis
REDIS_PORT=6379
REDIS_PASSWORD=staging_redis_password
REDIS_DB=0
REDIS_TTL_DEFAULT=3600

# Security & Authentication
JWT_SECRET=staging_jwt_secret_replace_with_actual_secret
JWT_EXPIRY=7d
SESSION_SECRET=staging_session_secret_replace_with_actual_secret
BCRYPT_ROUNDS=12

# Rate Limiting (Staging - Production-like)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Feature Flags (Staging - Test all features)
FEATURE_ANALYTICS_ENABLED=true
FEATURE_AB_TESTING_ENABLED=true
FEATURE_PSYCHOGRAPHIC_ANALYSIS=true
FEATURE_REAL_TIME_OPTIMIZATION=true
FEATURE_CRM_INTEGRATION=true
FEATURE_DEBUG_MODE=false
FEATURE_MOCK_DATA=false

# External API Configuration (Staging)
# Anthropic Claude API (staging key)
ANTHROPIC_API_KEY=staging_anthropic_api_key_here

# OpenAI API (staging key)
OPENAI_API_KEY=staging_openai_api_key_here

# Google Analytics (Staging property)
GA_MEASUREMENT_ID=G-STAGING123456

# Monitoring & Analytics (Staging)
SENTRY_DSN=https://staging-sentry-dsn@sentry.io/staging-project
NEW_RELIC_LICENSE_KEY=staging_new_relic_license_key
NEW_RELIC_APP_NAME="Optimizely AI Staging"

# Email Configuration (Staging - Use staging SMTP)
SMTP_HOST=staging-smtp.optimizely-ai.com
SMTP_PORT=587
SMTP_USER=staging@optimizely-ai.com
SMTP_PASSWORD=staging_smtp_password
SMTP_FROM_EMAIL=staging@optimizely-ai.com
SMTP_FROM_NAME="Optimizely AI Staging"

# File Upload Configuration
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,image/webp,text/csv,application/json

# Cache Configuration
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=1800
CACHE_TTL_LONG=86400

# Production-like Settings
HOT_RELOAD=false
SOURCE_MAPS=false
TYPESCRIPT_CHECK=false

# Testing Configuration
TEST_DATABASE_URL="postgresql://test_user:test_password@staging-db:5432/optimizely_test"
TEST_REDIS_URL=redis://staging-redis:6379/1

# Staging Debugging (Limited)
DEBUG_SQL=false
DEBUG_REDIS=false
DEBUG_API_CALLS=false
DEBUG_PERFORMANCE=true
VERBOSE_LOGGING=false

# CDN & Static Assets
CDN_URL=https://cdn-staging.optimizely-ai.com
STATIC_ASSETS_URL=https://assets-staging.optimizely-ai.com

# SSL/TLS Configuration
SSL_ENABLED=true
FORCE_HTTPS=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=7

# Performance Monitoring
PERFORMANCE_MONITORING=true
METRICS_COLLECTION=true
