# ==============================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ==============================================
# This file contains environment variables for production deployment
# CRITICAL: Never commit actual secrets to version control

# Environment
NODE_ENV=production
ENVIRONMENT=production

# Application Settings
APP_NAME="Optimizely AI"
APP_VERSION=0.1.0
LOG_LEVEL=warn
DEBUG=false

# Server Configuration
API_PORT=4000
WEB_PORT=3001
HOST=0.0.0.0
CORS_ORIGIN=https://optimizely-ai.com

# Database Configuration (PostgreSQL)
DATABASE_URL=postgresql://prod_user:REPLACE_WITH_ACTUAL_PASSWORD@prod-db:5432/optimizely_production
DB_HOST=prod-db
DB_PORT=5432
DB_NAME=optimizely_production
DB_USER=prod_user
DB_PASSWORD=REPLACE_WITH_ACTUAL_PASSWORD
DB_SSL=true
DB_SSL_REJECT_UNAUTHORIZED=true
DB_POOL_MIN=10
DB_POOL_MAX=50

# Redis Configuration
REDIS_URL=redis://prod-redis:6379
REDIS_HOST=prod-redis
REDIS_PORT=6379
REDIS_PASSWORD=REPLACE_WITH_ACTUAL_REDIS_PASSWORD
REDIS_DB=0
REDIS_TTL_DEFAULT=3600
REDIS_CLUSTER_MODE=true

# Security & Authentication
JWT_SECRET=REPLACE_WITH_ACTUAL_JWT_SECRET_MINIMUM_32_CHARACTERS
JWT_EXPIRY=24h
SESSION_SECRET=REPLACE_WITH_ACTUAL_SESSION_SECRET_MINIMUM_32_CHARACTERS
BCRYPT_ROUNDS=14

# Rate Limiting (Production - Strict)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=50
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Feature Flags (Production - Controlled rollout)
FEATURE_ANALYTICS_ENABLED=true
FEATURE_AB_TESTING_ENABLED=true
FEATURE_PSYCHOGRAPHIC_ANALYSIS=true
FEATURE_REAL_TIME_OPTIMIZATION=true
FEATURE_CRM_INTEGRATION=true
FEATURE_DEBUG_MODE=false
FEATURE_MOCK_DATA=false

# External API Configuration (Production)
# Anthropic Claude API (production key)
ANTHROPIC_API_KEY=REPLACE_WITH_ACTUAL_ANTHROPIC_API_KEY

# OpenAI API (production key)
OPENAI_API_KEY=REPLACE_WITH_ACTUAL_OPENAI_API_KEY

# Google Analytics (Production property)
GA_MEASUREMENT_ID=G-PRODUCTION123

# Monitoring & Analytics (Production)
SENTRY_DSN=REPLACE_WITH_ACTUAL_SENTRY_DSN
NEW_RELIC_LICENSE_KEY=REPLACE_WITH_ACTUAL_NEW_RELIC_KEY
NEW_RELIC_APP_NAME="Optimizely AI Production"

# Email Configuration (Production)
SMTP_HOST=smtp.optimizely-ai.com
SMTP_PORT=587
SMTP_USER=noreply@optimizely-ai.com
SMTP_PASSWORD=REPLACE_WITH_ACTUAL_SMTP_PASSWORD
SMTP_FROM_EMAIL=noreply@optimizely-ai.com
SMTP_FROM_NAME="Optimizely AI"

# File Upload Configuration
UPLOAD_MAX_SIZE=5242880
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,image/webp,text/csv,application/json

# Cache Configuration
CACHE_TTL_SHORT=600
CACHE_TTL_MEDIUM=3600
CACHE_TTL_LONG=86400

# Production Optimizations
HOT_RELOAD=false
SOURCE_MAPS=false
TYPESCRIPT_CHECK=false
MINIFY_ASSETS=true
COMPRESS_RESPONSES=true

# CDN & Static Assets
CDN_URL=https://cdn.optimizely-ai.com
STATIC_ASSETS_URL=https://assets.optimizely-ai.com

# SSL/TLS Configuration
SSL_ENABLED=true
FORCE_HTTPS=true
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000

# Security Headers
SECURITY_HEADERS_ENABLED=true
CSP_ENABLED=true
REFERRER_POLICY=strict-origin-when-cross-origin

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION=true

# Performance Monitoring
PERFORMANCE_MONITORING=true
METRICS_COLLECTION=true
APM_ENABLED=true

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# Logging Configuration
LOG_FORMAT=json
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30

# Auto-scaling Configuration
AUTO_SCALING_ENABLED=true
MIN_INSTANCES=2
MAX_INSTANCES=20
CPU_THRESHOLD=70
MEMORY_THRESHOLD=80

# Database Connection Pooling
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=10000
DB_MAX_RETRIES=3

# API Security
API_KEY_REQUIRED=true
API_VERSIONING=true
API_DOCUMENTATION_ENABLED=false

# GDPR & Privacy
GDPR_COMPLIANCE=true
COOKIE_CONSENT_REQUIRED=true
DATA_RETENTION_DAYS=365
ANONYMIZE_IP=true

# Production Debugging (Minimal)
DEBUG_SQL=false
DEBUG_REDIS=false
DEBUG_API_CALLS=false
DEBUG_PERFORMANCE=false
VERBOSE_LOGGING=false
